var e=function(s,i,n,a){if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?s!==i||!a:!i.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?a:n==="a"?a.call(s):a?a.value:i.get(s)},o=function(s,i,n,a,f){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!f)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?s!==i||!f:!i.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?f.call(s,n):f?f.value=n:i.set(s,n),n},h,r,A,t,l,c,u,_,m,d,v;const E="__aria-announcer-element__";const p="polite";class w{constructor({politeness:i,processingTime:n}={politeness:p,processingTime:500}){h.add(this),t.set(this,void 0),l.set(this,void 0),c.set(this,[]),u.set(this,!1),_.set(this,500),this.init({politeness:i,processingTime:n})}init({politeness:i,processingTime:n}={politeness:p,processingTime:500}){if(e(r,r,"f",A)){r.__DEBUG__&&console.warn("AriaLiveAnnouncer is already instantiated");return}o(r,r,!0,"f",A),o(this,l,i,"f"),o(this,_,n,"f"),o(this,t,document.createElement("div"),"f"),e(this,t,"f").id=E,e(this,t,"f").style.width="0",e(this,t,"f").style.height="0",e(this,t,"f").style.opacity="0",e(this,t,"f").style.position="absolute",e(this,t,"f").setAttribute("aria-live",i),document.body.appendChild(e(this,t,"f"))}announce(i,n=e(this,l,"f")){if(!e(this,t,"f")){r.__DEBUG__&&console.warn("AriaLiveAnnouncer not initialized, please use init() method");return}e(this,c,"f").push({message:i,politeness:n}),e(this,u,"f")||e(this,h,"m",v).call(this)}destroy(){const i=e(this,c,"f").length;i>0?(r.__DEBUG__&&console.warn(`Destroying AriaLiveAnnouncer with ${i} items left to announce. Announcing them all at once`),e(this,t,"f").setAttribute("aria-live",e(this,l,"f")),e(this,t,"f").innerText=e(this,c,"f").map(n=>n.message).join(`
`),e(this,h,"m",m).call(this),setTimeout(()=>e(this,h,"m",d).call(this),e(this,_,"f"))):e(this,h,"m",d).call(this)}}r=w,t=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,_=new WeakMap,h=new WeakSet,m=function(){o(this,c,[],"f"),o(this,u,!1,"f")},d=function(){document.body.removeChild(e(this,t,"f")),o(this,t,void 0,"f"),e(this,h,"m",m).call(this),o(r,r,!1,"f",A)},v=function s(){if(e(this,c,"f").length>0){o(this,u,!0,"f");const{message:i,politeness:n}=e(this,c,"f").shift();e(this,t,"f").setAttribute("aria-live",n),e(this,t,"f").innerText=i,setTimeout(()=>{e(this,t,"f")&&(e(this,t,"f").innerText="",e(this,t,"f").setAttribute("aria-live",e(this,l,"f")),e(this,h,"m",s).call(this))},e(this,_,"f"))}else o(this,u,!1,"f")};A={value:!1};w.__DEBUG__=!1;export{w as A};
