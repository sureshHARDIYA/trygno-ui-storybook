import{r,g as a,h as e}from"./iframe-CAlIYAxv.js";import"./preload-helper-D9Z9MdNV.js";const l=":host .portal-hidden-slot{display:none}:host .popup-portal{background:white;box-shadow:0 2px 8px rgba(0, 0, 0, 0.15);border-radius:4px}",c=class{constructor(o){r(this,o)}get hostEl(){return a(this)}open=!1;offsetX=0;offsetY=0;container;connectedCallback(){console.log("PopupPortal: connected"),this.container=document.createElement("div"),this.container.classList.add("popup-portal"),this.container.style.position="absolute",this.container.style.zIndex="1000",document.body.appendChild(this.container)}disconnectedCallback(){document.body.removeChild(this.container)}updatePortal(){if(console.log("PopupPortal: open=",this.open),this.container.style.display=this.open?"block":"none",!this.open){this.container.innerHTML="";return}const n=this.hostEl.querySelector("slot")?.assignedNodes({flatten:!0})||[];this.container.innerHTML="",n.forEach(s=>{const i=s.cloneNode(!0);this.container.appendChild(i)});const t=this.hostEl.parentElement.getBoundingClientRect();this.container.style.top=`${t.bottom+this.offsetY+window.scrollY}px`,this.container.style.left=`${t.left+this.offsetX+window.scrollX}px`,this.container.style.minWidth=`${t.width}px`}componentDidLoad(){this.updatePortal()}render(){return e("div",{key:"320bceb25a01388f0258354329f1210bb92dc1b0",class:"portal-hidden-slot"},e("slot",{key:"f3d668b6862ff6001708a9b81c2656b7e774e844"}))}static get watchers(){return{open:["updatePortal"]}}};c.style=l;export{c as trygno_popup_portal};
