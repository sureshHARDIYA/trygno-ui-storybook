import{r as i,g as e,h as o,H as r}from"./iframe-DFWwc32C.js";import{a as n,o as c,c as h,f as p,s as d}from"./floating-ui.dom-CTJ8TQMo-DBv6d6Q6.js";import"./preload-helper-D9Z9MdNV.js";const l=":host{--arrow-size:6px;--arrow-color:#fff;--arrow-size-diagonal:calc(var(--arrow-size) * 0.7071);--arrow-padding-offset:calc(var(--arrow-size-diagonal) - var(--arrow-size));display:contents}.popup{position:absolute;z-index:999;min-width:100px;background:#fff;border:1px solid #e0e0e0;border-radius:4px;box-shadow:0 2px 16px rgba(0, 0, 0, 0.08)}.popup:not(.active){display:none}.arrow{position:absolute;width:calc(var(--arrow-size-diagonal) * 2);height:calc(var(--arrow-size-diagonal) * 2);background:var(--arrow-color);transform:rotate(45deg);z-index:-1}",f=class{constructor(t){i(this,t)}get host(){return e(this)}anchor;active=!1;distance=0;skidding=0;flip=!1;shift=!1;arrow=!1;arrowPadding=5;x=0;y=0;placement;cleanup;arrowEl;anchorEl;componentDidLoad(){this.updateAnchor(),this.active&&this.startPositioning()}activeChanged(t){t?this.startPositioning():this.stopPositioning()}updateAnchor(){typeof this.anchor=="string"?this.anchorEl=document.querySelector(this.anchor):this.anchorEl=this.anchor}startPositioning(){this.anchorEl&&(this.cleanup=n(this.anchorEl,this.host.shadowRoot.querySelector(".popup"),()=>this.position()))}stopPositioning(){this.cleanup&&(this.cleanup(),this.cleanup=void 0)}async position(){const t=[c({mainAxis:this.distance,crossAxis:this.skidding})];this.flip&&t.push(p()),this.shift&&t.push(d());const s=this.host.shadowRoot.querySelector(".popup"),a=await h(this.anchorEl,s,{middleware:t});this.x=a.x,this.y=a.y,this.placement=a.placement,s.style.transform=`translate(${this.x}px, ${this.y}px)`,this.arrow&&this.updateArrow(a.middlewareData.arrow)}updateArrow(t){const{x:s,y:a}=t||{};this.arrowEl&&Object.assign(this.arrowEl.style,{top:a?`${a}px`:"",left:s?`${s}px`:""})}render(){return o(r,{key:"f11d2f090115c7e9dd837e8648b600c5038a9584"},o("slot",{key:"67fbfa4911467e6c07b66ab049e66b7c38b20638",name:"anchor"}),o("div",{key:"12dbed91e1b947a9019a2833d14f4ee973dd188c",class:{popup:!0,active:this.active},style:{display:this.active?"block":"none"}},o("slot",{key:"e731f53313ac60829586f933d1be3197d963f753"}),this.arrow&&o("div",{key:"d537cc723c5f09eacb78f55faac851faa55a5cfb",class:"arrow",ref:t=>this.arrowEl=t})))}static get watchers(){return{active:["activeChanged"],anchor:["updateAnchor"]}}};f.style=l;export{f as trygno_popup};
